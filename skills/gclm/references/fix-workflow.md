# Fix 工作流

智能诊断和修复代码问题。

## 触发条件

- 用户说"修复"、"fix"
- 检测到编译错误
- 检测到测试失败
- 用户报告运行时错误

## 工作流程

### 1. 错误诊断

- 分析错误信息
- 定位问题位置
- 识别错误类型

### 2. 历史查询

调用 `remember` 代理：
- 查询历史解决方案
- 检索相似错误记录

### 3. 问题修复

调用 `builder` 代理：
- 修复常见问题
- 应用已知模式
- 保持代码风格

### 4. 验证修复

调用 `reviewer` 代理：
- 运行相关测试
- 验证问题解决

### 5. 记录解决方案

调用 `remember` 代理：
- 记录错误和解决方案
- 提取可复用模式

## 常见问题类型

| 类型 | 示例 |
|------|------|
| 编译错误 | 语法错误、类型错误、导入错误 |
| 运行时错误 | 空指针、数组越界、资源未释放 |
| 测试失败 | 断言失败、Mock 配置错误 |

## 输出格式

```markdown
# 修复报告

## 问题诊断
- 类型: ...
- 位置: ...
- 原因: ...

## 解决方案
1. ...

## 执行的修复
- [x] 修改文件...

## 测试结果
- ✅ 所有测试通过

## 历史参考
- 相似错误: err-xxx
```
