# Plan 工作流

分析需求并制定详细的执行计划。

## 触发条件

- 用户要求实现新功能
- 用户要求开发某个模块
- 用户要求重构代码
- 用户要求进行架构设计

## 工作流程

### 1. 需求分析

- 理解用户请求
- 识别关键功能
- 确定约束条件

### 2. 项目扫描

- 分析现有代码
- 识别代码模式
- 查看相关文档
- 调用 `investigator` 代理收集上下文

### 3. 任务分解

- 拆分为可执行步骤
- 识别依赖关系
- 估算复杂度

### 4. 计划生成

调用 `planner` 代理生成结构化计划。

## 输出格式

```markdown
# 任务计划

## 目标
[任务目标描述]

## 技术栈
- 语言：...
- 框架：...

## 执行步骤

### 步骤 1: [名称]
- 描述: ...
- 文件: ...
- 验收标准: ...

### 步骤 2: ...
```

## 下一步

计划完成后，调用 [do-workflow.md](do-workflow.md) 执行实现。
