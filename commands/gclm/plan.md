# /gclm:plan - 规划任务

分析需求并制定详细的执行计划。

## 用法

```
/gclm:plan <任务描述>
```

## 功能

1. **需求分析**
   - 理解用户请求
   - 识别关键功能
   - 确定约束条件

2. **项目扫描**
   - 分析现有代码
   - 识别代码模式
   - 查看相关文档

3. **任务分解**
   - 拆分为可执行步骤
   - 识别依赖关系
   - 估算复杂度

4. **计划生成**
   - 生成结构化计划
   - 定义验收标准
   - 标注风险点

## 工作流程

1. 调用 `planner` 代理分析需求
2. 调用 `investigator` 代理收集上下文
3. 调用 `remember` 代理查询相关历史
4. 生成执行计划

## 输出

```markdown
# 任务计划

## 目标
[任务目标描述]

## 技术栈
- 语言：...
- 框架：...

## 执行步骤

### 步骤 1: [名称]
- 描述: ...
- 文件: ...
- 验收标准: ...

### 步骤 2: ...
```

## 示例

```bash
# 规划新功能
/gclm:plan 添加用户登录功能

# 规划重构
/gclm:plan 重构订单服务，使用 DDD 架构

# 规划 Bug 修复
/gclm:plan 修复用户注册时的并发问题
```

## 相关命令

- `/gclm:do` - 执行计划
- `/gclm:review` - 审查代码
