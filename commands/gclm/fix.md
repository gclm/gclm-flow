# /gclm:fix - 修复问题

智能诊断和修复代码问题。

## 用法

```
/gclm:fix [问题描述]
```

## 功能

1. **错误诊断**
   - 分析错误信息
   - 定位问题根源
   - 查询历史解决方案

2. **自动修复**
   - 修复常见问题
   - 应用已知模式
   - 保持代码风格

3. **验证修复**
   - 运行相关测试
   - 验证问题解决

## 工作流程

1. 分析错误信息
2. 调用 `investigator` 代理诊断问题
3. 调用 `remember` 代理查询历史解决方案
4. 调用 `builder` 代理执行修复
5. 调用 `reviewer` 代理验证修复
6. 调用 `remember` 代理记录解决方案

## 常见问题类型

### 编译错误
- 语法错误
- 类型错误
- 导入错误
- 依赖缺失

### 运行时错误
- 空指针异常
- 数组越界
- 类型转换错误
- 资源未释放

### 测试失败
- 断言失败
- Mock 配置错误
- 测试数据问题

## 输出

```markdown
# 修复报告

## 问题诊断
- 类型: ImportError
- 位置: src/api/routes.py:15
- 原因: 循环导入

## 解决方案
1. 将导入语句移到函数内部
2. 或者重构模块结构

## 执行的修复
- [x] 修改 src/api/routes.py
- [x] 运行测试验证

## 测试结果
- ✅ 所有测试通过

## 历史参考
- 发现相似错误记录: err-20260210-003
- 该错误已发生 2 次
```

## 示例

```bash
# 修复最近的错误
/gclm:fix

# 修复特定问题
/gclm:fix 循环导入错误

# 修复测试失败
/gclm:fix test_user_login 失败
```

## 相关命令

- `/gclm:test` - 运行测试
- `/gclm:review` - 代码审查
- `/gclm:learn` - 记忆管理
